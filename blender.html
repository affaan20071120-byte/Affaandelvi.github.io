<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Blender 3D Viewer</title>
  <style>
    html,body{margin:0;height:100%;background:radial-gradient(1200px 800px at 10% -10%, rgba(239,68,68,.12), transparent 55%),radial-gradient(1200px 800px at 90% 120%, rgba(59,130,246,.12), transparent 55%),#0a0f25;color:#e6ecff;font-family:Inter,system-ui,Arial,sans-serif}
    #app{position:fixed;inset:0}
    .back{position:fixed;top:14px;left:14px;background:#0e1a44;border:1px solid rgba(255,255,255,.15);padding:10px 14px;border-radius:12px;color:#fff;text-decoration:none;font-weight:800;box-shadow:0 0 16px rgba(59,130,246,.25)}
    .hint{position:fixed;bottom:14px;left:14px;opacity:.8;background:rgba(0,0,0,.35);padding:8px 10px;border-radius:10px;border:1px solid rgba(255,255,255,.12)}
  </style>
</head>
<body>
  <a class="back" href="index.html" target="_self">‚Üê Back to Portfolio</a>
  <div id="app"></div>
  <div class="hint">Tip: drag to rotate, scroll to zoom, right-drag to pan.</div>
  <script src="https://unpkg.com/three@0.159.0/build/three.min.js"></script>
  <script src="https://unpkg.com/three@0.159.0/examples/js/controls/OrbitControls.js"></script>
  <script src="https://unpkg.com/three@0.159.0/examples/js/loaders/GLTFLoader.js"></script>
  <script>
    const app = document.getElementById('app');
    const scene = new THREE.Scene();
    const camera = new THREE.PerspectiveCamera(60, window.innerWidth/window.innerHeight, 0.1, 1000);
    camera.position.set(2.5, 1.8, 3.6);

    const renderer = new THREE.WebGLRenderer({antialias:true});
    renderer.setSize(window.innerWidth, window.innerHeight);
    renderer.setPixelRatio(devicePixelRatio);
    renderer.outputColorSpace = THREE.SRGBColorSpace;
    app.appendChild(renderer.domElement);

    const controls = new THREE.OrbitControls(camera, renderer.domElement);
    controls.enableDamping = true;

    // lights
    const hemi = new THREE.HemisphereLight(0xffffff, 0x222233, 0.9);
    scene.add(hemi);
    const dir = new THREE.DirectionalLight(0xffffff, 0.8);
    dir.position.set(5,5,5);
    scene.add(dir);

    // Load model (dragon.glb). If fails, create a torus knot.
    const loader = new THREE.GLTFLoader();
    loader.load('assets/dragon.glb', (gltf)=>{
      scene.add(gltf.scene);
    }, undefined, (err)=>{
      console.warn('dragon.glb not found, showing placeholder', err);
      const geo = new THREE.TorusKnotGeometry(1, 0.35, 200, 32);
      const mat = new THREE.MeshStandardMaterial({color: 0x3b82f6, metalness: 0.3, roughness: 0.2});
      const mesh = new THREE.Mesh(geo, mat);
      scene.add(mesh);
    });

    window.addEventListener('resize', ()=>{
      camera.aspect = window.innerWidth/window.innerHeight;
      camera.updateProjectionMatrix();
      renderer.setSize(window.innerWidth, window.innerHeight);
    });

    function animate(){
      requestAnimationFrame(animate);
      controls.update();
      renderer.render(scene,camera);
    }
    animate();
  </script>
</body>
</html>
